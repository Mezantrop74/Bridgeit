---
id: scan
layout: demo
title: Scan
---
<div>
    <h2>Native Scanning</h2>
    <fieldset class="desc">
        <div class="row"><p class="normalText">Scan a QR Code with a simple line of JavaScript...</p></div>
        <div class="row">
{% highlight javascript %}
bridgeit.scan('myId', callback);
{% endhighlight %}
        </div>
    </fieldset>
    
    <a id="scanBtn" type="button" class="btn"
        onclick="bridgeit.scan('scanBtn','onAfterCaptureScan');">Scan a Code</a>
        
    <fieldset id="scans">
    </fieldset>
    <script type="text/javascript">
    function onAfterCaptureScan(event)  {
        console.log('onAfterCaptureScan: ' + JSON.stringify(event));
        var HTTP = "http";
        var text = event.value;
        if (HTTP == text.substring(0, HTTP.length))  {
            text = "<span class='ellipsis'><a href='" + text + "'>" + text + "</a></span>";
        }
        var scans = document.getElementById("scans");
        var row1 = document.createElement('div');
        row1.setAttribute('class','row timestamp');
        row1.innerHTML = "<span class='ellipsis'>Scanned on " + new Date() + "</span>";
        var row2 = document.createElement('div');
        row2.setAttribute('class','row');
        row2.innerHTML = text;
        scans.insertBefore(row1, scans.firstChild);
        scans.insertBefore(row2, scans.firstChild);
    }
    </script>
</div>
